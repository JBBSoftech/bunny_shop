# Bunny Shop Backend API

This is the backend API for the Bunny Shop mobile application generated by Appifyours.

## Features

- Product management
- User registration and authentication
- Shopping cart functionality
- Order management
- Real-time configuration updates
- Search functionality

## Installation

1. Clone this repository
2. Install dependencies:
   ```bash
   npm install
   ```

3. Set up environment variables:
   - Copy `.env.example` to `.env`
   - Update the values according to your setup

4. Start the server:
   ```bash
   npm start
   ```

   For development:
   ```bash
   npm run dev
   ```

## API Endpoints

### Products
- `GET /api/products` - Get all products
- `GET /api/products/:id` - Get product by ID
- `GET /api/products/search/:query` - Search products

### Users
- `POST /api/users/register` - Register new user
- `GET /api/users/:id` - Get user profile
- `POST /api/users/:id/cart` - Add item to cart
- `GET /api/users/:id/cart` - Get user cart
- `POST /api/users/:id/orders` - Place order
- `GET /api/users/:id/orders` - Get user orders

### Configuration
- `GET /api/app-config` - Get app configuration for real-time updates

### Health
- `GET /health` - Health check endpoint

## Database Schema

The API uses MongoDB with the following main collections:
- `products` - Product information
- `users` - User profiles, cart, and orders

## Real-time Updates & Dynamic Data

The backend supports real-time configuration updates and dynamic data fetching for mobile apps. This means:

1. **Dynamic Product Updates**: The mobile app fetches product data from the main Appifyours database, so any changes you make in the admin panel are immediately reflected in the mobile app without rebuilding the APK.

2. **Configuration Updates**: When you update app settings, the mobile app can fetch the latest configuration using the `/api/app-config` endpoint.

### Key Endpoints for Dynamic Updates:
- `GET /api/products/dynamic` - Fetches latest product data from the main database
- `GET /api/app-config` - Fetches latest app configuration and theme settings

### How It Works:
1. The mobile app starts with initial product data (for offline support)
2. On launch and pull-to-refresh, it fetches the latest data from the backend
3. The backend connects to the main Appifyours database to get your latest configuration
4. Changes made in the admin panel are instantly available to mobile users

### Configuration Required:
Set the `MAIN_DB_URI` environment variable in your `.env` file to point to your Appifyours database:
```
MAIN_DB_URI=mongodb://localhost:27017/appifyours
```

## Generated by Appifyours

This backend was automatically generated by Appifyours platform.
